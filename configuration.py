# configuration.py
# Αρχείο ρυθμίσεων για το σύστημα αναγνώρισης προσώπων

def load_settings():
    """
    Φορτώνει και επιστρέφει όλες τις ρυθμίσεις για το σύστημα αναγνώρισης προσώπων.
    Τροποποιήστε τις τιμές εδώ για να αλλάξετε τη συμπεριφορά του προγράμματος.
    """
    settings = {
        # === Ρυθμίσεις Αναγνώρισης ===
        
        # Αυτόματη παράλειψη άγνωστων προσώπων με score κοντά στο threshold
        # Θέστε το σε False αν θέλετε να εμφανίζονται όλα τα άγνωστα πρόσωπα
        # Αν το score ενός προσώπου είναι πολύ κοντά στο threshold, το αγνοεί «αυτόματα» (δεν σε διακόπτει με pop-up), απλώς κρατά snapshot/log. Χρήσιμο για να μη σε ζαλίζουν οριακές ανιχνεύσεις.
        'AUTO_IGNORE_CLOSE_SCORES': True,
        
        # Περιθώριο ανοχής για αυτόματη παράλειψη (|threshold - score| < IGNORE_MARGIN)
        # Μικρότερη τιμή = Λιγότερες αυτόματες παραλείψεις
        # Πόσο «κοντά στο threshold» θεωρείται το score ώστε να γίνει η παραπάνω αυτόματη παράλειψη. Μικρότερο = πιο αυστηρό (λιγότερες παραλείψεις).
        'IGNORE_MARGIN': 0.02,
        
        # Χρήση βελτιωμένου γραφικού περιβάλλοντος για άγνωστα πρόσωπα
        # Ενεργοποιεί πιο «πλούσιο» παράθυρο/UX για άγνωστα πρόσωπα (π.χ. καλύτερη προεπισκόπηση, πληροφορίες).
        'ENHANCED_UI': True,
        
        # Ελάχιστο μέγεθος προσώπου σε pixels για καλύτερη αναγνώριση
        # Κάτω από αυτό το μέγεθος, τα πρόσωπα αγνοούνται για να μην έχεις θορυβώδεις/λάθος αναγνωρίσεις.
        'MIN_FACE_SIZE': 60,
        
        # === Ρυθμίσεις Ποιότητας Εικόνας ===
        
        # Αποθήκευση εικόνων υψηλής ποιότητας
        # Όταν αποθηκεύονται crops/unknowns/knowns, γίνεται save σε υψηλή ποιότητα (π.χ. JPG ποιότητας 95 ή/και PNG), χρήσιμο για retraining
        'HIGH_QUALITY_IMAGES': True,
        
        # Ελάχιστο μέγεθος για αποθήκευση εικόνων προσώπων (pixels)
        # Δεν αποθηκεύει πολύ μικρά crops για να κρατάς dataset καθαρό/χρήσιμο.
        'MIN_IMAGE_SAVE_SIZE': 200,
        
        # Ελάχιστη φωτεινότητα για αποδεκτή εικόνα (0-255)
        # Κατώφλια ποιότητας: πολύ σκοτεινά ή «πλακάτα» πρόσωπα απορρίπτονται ή σημειώνονται ως χαμηλής ποιότητας.
        'MIN_BRIGHTNESS': 50,
        
        # Ελάχιστη αντίθεση για αποδεκτή εικόνα (τυπική απόκλιση)
        # Κατώφλια ποιότητας: πολύ σκοτεινά ή «πλακάτα» πρόσωπα απορρίπτονται ή σημειώνονται ως χαμηλής ποιότητας
        'MIN_CONTRAST': 30,
        
        # === Ρυθμίσεις Bounding Box ===
        
        # Περιθώριο γύρω από το bounding box του προσώπου (%)
        # Κόβει το πρόσωπο με +20% περιθώριο γύρω από το bbox, ώστε να μην κόβονται αυτιά/πηγούνι και να βγαίνουν «καθαρά» crops.
        'FACE_MARGIN_PERCENT': 0.20,
        
        # === Προχωρημένες Ρυθμίσεις ===
        
        # YOLO confidence threshold για ανίχνευση προσώπων
        # Κατώφλι βεβαιότητας για το face detector (YOLO). Πιο ψηλά = λιγότερα αλλά πιο σίγουρα detections.

        'YOLO_CONFIDENCE': 0.5,
        
        # Παράκαμψη της επεξεργασίας εικόνας για ταχύτερη εκτέλεση
        # Αν θες ταχύτητα, προσπερνά τα «βελτιωτικά» βήματα (denoise/CLAHE/sharpen κ.λπ.). Ιδανικό για αδύναμα μηχανήματα
        'BYPASS_IMAGE_ENHANCEMENT': False,
        
        # Αριθμός καρέ για διατήρηση της ταυτότητας ενός προσώπου
        # Μνήμη ταυτότητας σε διαδοχικά καρέ: βοηθά να μη «τρεμοπαίζει» το όνομα/κατάσταση όταν μια ανίχνευση χάνεται για 1-2 frames
        'IDENTITY_MEMORY_FRAMES': 5
    }
    
    return settings

# Ενδεικτικά presets:
# Πιο αυστηρό (λιγότερα false positives): YOLO_CONFIDENCE=0.6, MIN_FACE_SIZE=80, IGNORE_MARGIN=0.01.
# Πιο γρήγορο σε low-end PC: BYPASS_IMAGE_ENHANCEMENT=True, HIGH_QUALITY_IMAGES=False.
# Dataset-friendly: HIGH_QUALITY_IMAGES=True, MIN_IMAGE_SAVE_SIZE=224, κράτα MIN_BRIGHTNESS/CONTRAST όπως είναι